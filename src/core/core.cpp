// core.cpp - main entry point